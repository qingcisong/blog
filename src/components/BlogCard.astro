---
import type { CollectionEntry } from 'astro:content';
import { getFormattedDate } from '../utils';

interface Props {
	post: CollectionEntry<'blog'>;
}

const { post } = Astro.props;
const { title, description, pubDate, heroImage } = post.data;
---

<article class="grid grid-cols-1 items-start gap-6 md:grid-cols-3 md:gap-8">
	<a href={`/blog/${post.id}/`} class="aspect-h-3 aspect-w-4 relative bg-gray-100">
		{heroImage && (
			<img
				src={heroImage}
				alt={title}
				class="object-cover"
			/>
		)}
	</a>
	<div class="grid grid-cols-1 gap-3 md:col-span-2">
		<a href={`/blog/${post.id}/`}>
			<h3 class="font-sans font-semibold tracking-tighter text-slate-800 text-3xl md:text-4xl">
				{title}
			</h3>
		</a>
		<time class="font-serif italic tracking-tighter text-slate-500">
			{getFormattedDate(pubDate)}
		</time>
		<p class="font-serif leading-relaxed md:text-lg md:leading-relaxed">{description}</p>
	</div>
</article>
